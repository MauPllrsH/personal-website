<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
    <title>HTB Walkthroughs - Mauricio Pallares</title>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>HackTheBox Walkthroughs</h1>
            <p style="text-align: center;">
                <a href="{{ url_for('home') }}">‚Üê Back to Home</a>
            </p>
        </header>
        <section class="search-filters">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Search machines or techniques...">
            </div>
            
            <div class="filter-buttons">
                <div class="filter-group">
                    <label>Difficulty:</label>
                    <button class="filter-btn active" data-filter="difficulty" data-value="all">All</button>
                    <button class="filter-btn" data-filter="difficulty" data-value="easy">Easy</button>
                    <button class="filter-btn" data-filter="difficulty" data-value="medium">Medium</button>
                    <button class="filter-btn" data-filter="difficulty" data-value="hard">Hard</button>
                </div>
                
                <div class="filter-group">
                    <label>OS:</label>
                    <button class="filter-btn active" data-filter="os" data-value="all">All</button>
                    <button class="filter-btn" data-filter="os" data-value="windows">Windows</button>
                    <button class="filter-btn" data-filter="os" data-value="linux">Linux</button>
                </div>
            </div>
        </section>

        <section>
            <h2>Walkthroughs ({{ walkthroughs|length }})</h2>
            
            {% if walkthroughs %}
                <div class="walkthrough-grid">
                    {% for walkthrough in walkthroughs %}
                    <div class="walkthrough-card" 
                        data-machine="{{ walkthrough.metadata.machine_name.lower() }}"
                        data-difficulty="{{ walkthrough.metadata.difficulty.lower() }}" 
                        data-os="{{ walkthrough.metadata.os.lower() }}"
                        data-techniques="{{ walkthrough.metadata.techniques|join(',')|lower }}">
                        <div class="card-header">
                            <h3><a href="{{ url_for('htb_walkthrough', slug=walkthrough.metadata.slug) }}">{{ walkthrough.metadata.machine_name }}</a></h3>
                            <span class="difficulty difficulty-{{ walkthrough.metadata.difficulty.lower() }}">{{ walkthrough.metadata.difficulty }}</span>
                        </div>
                        
                        <div class="card-content">
                            <p><strong>OS:</strong> {{ walkthrough.metadata.os }}</p>
                            <p><strong>Completed:</strong> {{ walkthrough.metadata.date_completed }}</p>
                            
                            {% if walkthrough.metadata.techniques %}
                            <div class="techniques">
                                {% for technique in walkthrough.metadata.techniques[:3] %}
                                <span class="technique-tag">{{ technique }}</span>
                                {% endfor %}
                                {% if walkthrough.metadata.techniques|length > 3 %}
                                <span class="technique-tag">+{{ walkthrough.metadata.techniques|length - 3 }} more</span>
                                {% endif %}
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>No walkthroughs found yet. Check back soon!</p>
            {% endif %}
        </section>
    </div>
    <script src="{{ url_for('static', filename='js/htb-search.js') }}"></script>
</body>
</html>
